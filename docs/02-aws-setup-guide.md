# AWS 설정 가이드

이 가이드는 AWS 데이터 분석 워크샵을 위한 AWS 환경 설정 방법을 안내합니다.

## 사전 준비사항

- AWS 계정 (프리 티어 계정도 가능)
- 관리자 권한 또는 필요한 서비스 권한
- 웹 브라우저

## 1. AWS 계정 설정

### 1.1 AWS 계정 생성
1. [AWS 콘솔](https://aws.amazon.com/ko/)에 접속
2. "AWS 계정 생성" 클릭
3. 이메일 주소와 계정 정보 입력
4. 결제 정보 등록 (프리 티어 사용 시에도 필요)

### 1.2 IAM 사용자 생성 (권장)
루트 계정 대신 IAM 사용자를 생성하여 사용하는 것을 권장합니다.

1. AWS 콘솔에서 IAM 서비스로 이동
2. "사용자" → "사용자 추가" 클릭
3. 사용자 이름 입력 (예: `workshop-user`)
4. "프로그래밍 방식 액세스" 및 "AWS Management Console 액세스" 선택
5. 권한 설정:
   - 기존 정책 직접 연결
   - 다음 정책들을 연결:
     - `AmazonS3FullAccess`
     - `AWSGlueConsoleFullAccess`
     - `AmazonAthenaFullAccess`
     - `AmazonQuickSightFullAccess`
     - `IAMReadOnlyAccess`

## 2. 필수 AWS 서비스 설정

### 2.1 Amazon S3 버킷 생성
데이터 저장을 위한 S3 버킷을 생성합니다.

1. S3 콘솔로 이동
2. "버킷 만들기" 클릭
3. 버킷 설정:
   - 버킷 이름: `workshop-data-[고유번호]` (예: `workshop-data-20250715`)
   - 리전: `ap-northeast-2` (서울)
   - 퍼블릭 액세스 차단: 기본값 유지
4. "버킷 만들기" 클릭

### 2.2 AWS Glue 설정
1. AWS Glue 콘솔로 이동
2. "데이터베이스" → "데이터베이스 추가" 클릭
3. 데이터베이스 이름: `workshop_database`
4. "생성" 클릭

### 2.3 Amazon Athena 설정
1. Athena 콘솔로 이동
2. 처음 사용 시 쿼리 결과 위치 설정 필요:
   - "설정" 탭 클릭
   - 쿼리 결과 위치: `s3://workshop-data-[고유번호]/athena-results/`
   - "저장" 클릭

## 3. 권한 및 보안 설정

### 3.1 서비스 역할 생성
AWS Glue가 다른 서비스에 액세스할 수 있도록 서비스 역할을 생성합니다.

1. IAM 콘솔로 이동
2. "역할" → "역할 만들기" 클릭
3. 신뢰할 수 있는 엔터티 유형: "AWS 서비스"
4. 사용 사례: "Glue" 선택
5. 권한 정책:
   - `AWSGlueServiceRole`
   - `AmazonS3FullAccess`
6. 역할 이름: `GlueWorkshopRole`
7. "역할 만들기" 클릭

### 3.2 보안 그룹 설정 (필요시)
VPC 환경에서 작업하는 경우 적절한 보안 그룹을 설정합니다.

## 4. 비용 관리 설정

### 4.1 결제 알림 설정
1. AWS 콘솔 우상단 계정명 클릭 → "결제 및 비용 관리"
2. "결제 기본 설정" → "결제 알림 수신"
3. 임계값 설정 (예: $10)
4. 알림 이메일 주소 입력

### 4.2 예산 설정
1. "예산" → "예산 생성"
2. 예산 유형: "비용 예산"
3. 월별 예산 금액 설정 (예: $20)
4. 알림 설정: 80%, 100% 임계값

## 5. 설정 확인

다음 항목들이 올바르게 설정되었는지 확인하세요:

- [ ] S3 버킷 생성 완료
- [ ] Glue 데이터베이스 생성 완료
- [ ] Athena 쿼리 결과 위치 설정 완료
- [ ] IAM 역할 및 권한 설정 완료
- [ ] 결제 알림 설정 완료

## 6. 다음 단계

설정이 완료되면 [데이터셋 가이드](03-dataset-guide.md)로 이동하여 샘플 데이터를 업로드하고 워크샵을 시작할 수 있습니다.

## 문제 해결

설정 과정에서 문제가 발생하면 [문제 해결 가이드](06-troubleshooting.md)를 참조하세요.

---

**주의사항**: 
- 워크샵 완료 후 불필요한 리소스는 삭제하여 비용을 절약하세요
- 프리 티어 한도를 초과하지 않도록 주의하세요
- 실제 운영 환경에서는 더 엄격한 보안 설정이 필요합니다